import{s as $,a as P,f as N,e as S,c as H,g as _,z as R,i as u,D as X,C as I,d as s,o as tt,h as et,k as Z,K as it,l as D,m as C,j as x,F as Q,n as q}from"./scheduler.e76b12a0.js";import{S as lt,i as nt}from"./index.8ff76f30.js";import{v as j,p as ot}from"./constants.1154adc2.js";function V(p){let e,n,o;return{c(){e=N("div"),this.h()},l(i){e=_(i,"DIV",{style:!0}),et(e).forEach(s),this.h()},h(){Z(e,"height","400px"),Z(e,"width","100%")},m(i,c){u(i,e,c),n||(o=it(p[2].call(null,e)),n=!0)},d(i){i&&s(e),n=!1,o()}}}function G(p){let e,n="<br/>",o,i,c="<br/>",b,v=p[1].lat+"",f,r,l,k,O=p[1].lon+"",M,U,E,y,z,d,m="<br/>",T,A,g,B,W,Y;function K(t,a){return t[1].txt==null?st:ft}let F=K(p),w=F(p),h=p[1].txt!=null&&J(p);return{c(){e=N("p"),e.innerHTML=n,o=D(`
	The following location will be added
	`),i=N("p"),i.innerHTML=c,b=D(`
	Latitude: `),f=D(v),r=P(),l=N("br"),k=D(`
	Longitute: `),M=D(O),U=P(),E=N("br"),y=P(),w.c(),z=P(),d=N("p"),d.innerHTML=m,T=P(),A=N("input"),g=P(),h&&h.c(),B=S(),this.h()},l(t){e=_(t,"P",{"data-svelte-h":!0}),R(e)!=="svelte-pntvnr"&&(e.innerHTML=n),o=C(t,`
	The following location will be added
	`),i=_(t,"P",{"data-svelte-h":!0}),R(i)!=="svelte-pntvnr"&&(i.innerHTML=c),b=C(t,`
	Latitude: `),f=C(t,v),r=H(t),l=_(t,"BR",{}),k=C(t,`
	Longitute: `),M=C(t,O),U=H(t),E=_(t,"BR",{}),y=H(t),w.l(t),z=H(t),d=_(t,"P",{"data-svelte-h":!0}),R(d)!=="svelte-pntvnr"&&(d.innerHTML=m),T=H(t),A=_(t,"INPUT",{class:!0,type:!0,placeholder:!0}),g=H(t),h&&h.l(t),B=S(),this.h()},h(){x(A,"class","myInputField"),x(A,"type","text"),x(A,"placeholder","... describe this place ...")},m(t,a){u(t,e,a),u(t,o,a),u(t,i,a),u(t,b,a),u(t,f,a),u(t,r,a),u(t,l,a),u(t,k,a),u(t,M,a),u(t,U,a),u(t,E,a),u(t,y,a),w.m(t,a),u(t,z,a),u(t,d,a),u(t,T,a),u(t,A,a),Q(A,p[1].txt),u(t,g,a),h&&h.m(t,a),u(t,B,a),W||(Y=X(A,"input",p[8]),W=!0)},p(t,a){a&2&&v!==(v=t[1].lat+"")&&q(f,v),a&2&&O!==(O=t[1].lon+"")&&q(M,O),F===(F=K(t))&&w?w.p(t,a):(w.d(1),w=F(t),w&&(w.c(),w.m(z.parentNode,z))),a&2&&A.value!==t[1].txt&&Q(A,t[1].txt),t[1].txt!=null?h?h.p(t,a):(h=J(t),h.c(),h.m(B.parentNode,B)):h&&(h.d(1),h=null)},d(t){t&&(s(e),s(o),s(i),s(b),s(f),s(r),s(l),s(k),s(M),s(U),s(E),s(y),s(z),s(d),s(T),s(A),s(g),s(B)),w.d(t),h&&h.d(t),W=!1,Y()}}}function ft(p){let e,n=p[1].txt+"",o;return{c(){e=D("Description: "),o=D(n)},l(i){e=C(i,"Description: "),o=C(i,n)},m(i,c){u(i,e,c),u(i,o,c)},p(i,c){c&2&&n!==(n=i[1].txt+"")&&q(o,n)},d(i){i&&(s(e),s(o))}}}function st(p){let e;return{c(){e=D('Description: ""')},l(n){e=C(n,'Description: ""')},m(n,o){u(n,e,o)},p:I,d(n){n&&s(e)}}}function J(p){let e,n="<br/>",o,i,c="Add Freedom Exchange",b,v;return{c(){e=N("p"),e.innerHTML=n,o=P(),i=N("button"),i.textContent=c,this.h()},l(f){e=_(f,"P",{"data-svelte-h":!0}),R(e)!=="svelte-pntvnr"&&(e.innerHTML=n),o=H(f),i=_(f,"BUTTON",{class:!0,"data-svelte-h":!0}),R(i)!=="svelte-1wpvoua"&&(i.textContent=c),this.h()},h(){x(i,"class","inside")},m(f,r){u(f,e,r),u(f,o,r),u(f,i,r),b||(v=X(i,"click",p[9]),b=!0)},p:I,d(f){f&&(s(e),s(o),s(i)),b=!1,v()}}}function rt(p){let e,n,o="<br/>",i,c,b,v,f=p[0]&&V(p),r=p[1].lat!=null&&G(p);return{c(){f&&f.c(),e=P(),n=N("p"),n.innerHTML=o,i=P(),r&&r.c(),c=S()},l(l){f&&f.l(l),e=H(l),n=_(l,"P",{"data-svelte-h":!0}),R(n)!=="svelte-pntvnr"&&(n.innerHTML=o),i=H(l),r&&r.l(l),c=S()},m(l,k){f&&f.m(l,k),u(l,e,k),u(l,n,k),u(l,i,k),r&&r.m(l,k),u(l,c,k),b||(v=X(window,"resize",p[3]),b=!0)},p(l,[k]){l[0]?f||(f=V(l),f.c(),f.m(e.parentNode,e)):f&&(f.d(1),f=null),l[1].lat!=null?r?r.p(l,k):(r=G(l),r.c(),r.m(c.parentNode,c)):r&&(r.d(1),r=null)},i:I,o:I,d(l){l&&(s(e),s(n),s(i),s(c)),f&&f.d(l),r&&r.d(l),b=!1,v()}}}function ut(p,e,n){let{map:o}=e,{pois:i}=e,{contract:c}=e,b,v=[],f=!1,r,l={};tt(async()=>{n(0,f=!0)});function k(d){let m=L.map(d).setView([47.365365,8.541248],6);return b=L.icon({iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",iconAnchor:[12.5,41]}),L.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:`&copy;<a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a>,
      &copy;<a href="https://carto.com/attributions" target="_blank">CARTO</a>`,subdomains:"abcd",maxZoom:20}).addTo(m),m}function O(d){n(5,o=k(d));for(const m of i){const T=L.marker([m.lat,m.lon],{icon:b}).bindPopup(m.text).addTo(o);T.on("mouseover",function(A){T.openPopup()}),T.on("click",function(A){T.openPopup()}),v.push(T)}return o.on("click",function(m){M(),n(1,l.lat=Math.round((m.latlng.lat+Number.EPSILON)*1e6)/1e6,l),n(1,l.lon=Math.round((m.latlng.lng+Number.EPSILON)*1e6)/1e6,l),r!=null&&o.removeLayer(r),r=L.marker([l.lat,l.lon],{icon:b}).addTo(o)}),o.on("dragstart",function(m){M()}),o.on("blur",function(m){M()}),{destroy:()=>{o.remove()}}}function M(){for(const d of v)d.closePopup()}function U(){o&&o.invalidateSize()}async function E(d){const m=await c.assetCounter()+BigInt(1);console.log(`adding to ${d} asset ${JSON.stringify(l)} ${m} ${j}`),await c.addAsset(d,JSON.stringify(l),m,j)}function y(){l.txt=this.value,n(1,l)}const z=()=>E(ot);return p.$$set=d=>{"map"in d&&n(5,o=d.map),"pois"in d&&n(6,i=d.pois),"contract"in d&&n(7,c=d.contract)},[f,l,O,U,E,o,i,c,y,z]}class dt extends lt{constructor(e){super(),nt(this,e,ut,rt,$,{map:5,pois:6,contract:7})}}export{dt as M};
